<div class="row-fluid row w-100 mx-auto pt-2">
  <div class="col-12 col-lg-4 pl-0">

    <div class="btn-group mt-lg-4" mdbDropdown>
      <button mdbBtn mdbDropdownToggle type="button" outline=true color="elegant" class="dropdown-toggle waves-light"
        mdbWavesEffect>
        Kategorie
      </button>
    
      <div class="dropdown-menu dropdown-primary">
        <a class="dropdown-item" (click)="setCategory('produkty-zbozowe');" href="#">Produkty Zbożowe</a>
        <a class="dropdown-item" (click)="setCategory('nabial')" href="#">Nabiał i Tłuszcze</a>
        <a class="dropdown-item" (click)="setCategory('chemia')" href="#">Chemia</a>
        <a class="dropdown-item" (click)="setCategory('owoce')" href="#">Warzywa i Owoce</a>
        <a class="dropdown-item" (click)="setCategory('mieso')" href="#">Mięso i Wędliny</a>
        <a class="dropdown-item" (click)="setCategory('przekaski')" href="#">Słodycze i Przekąski</a>
        <div class="divider dropdown-divider"></div>
        <a class="dropdown-item" (click)="setCategory('wszystkie')" href="#">Pokaż Wszystkie</a>
      </div>
    </div>

  </div>
  <div class="col-12 col-lg-4">
    <h3 class="w-100 text-center  pb-0 dark-text font-weight-bold">Produkty ({{prodMeta.count}})</h3>
    <div class="row justify-content-md-center">
      <div class="col-6 col-lg-4">
        <div class="md-form float-right">
          <form id="filter text-center">
            <input mdbInput min=0 [max]="price_to ? price_to-1 : 10000" type="number" id="price_from" class="form-control" [(ngModel)]="price_from" [ngModelOptions]="{standalone: true}" (keyup)="resetCounter()">
            <label for="price_from" class="no-select">Cena od:</label>
          </form>
        </div>
      </div>
      <div class="col-6 col-lg-
      ">
        <div class="md-form float-right">
          <form id="filter ">
            <input mdbInput [min]="price_from+1" max=10000 type="number" id="price_to" class="form-control" [(ngModel)]="price_to" [ngModelOptions]="{standalone: true}" (keyup)="resetCounter()">
            <label for="price_to" class="no-select">Cena do:</label>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 col-lg-4">
    <div class="md-form float-right">
      <form id="filter">
        <input mdbInput type="text" id="form1" class="form-control" [(ngModel)]="term" [ngModelOptions]="{standalone: true}" (keyup)="resetCounter()">
        <label for="form1" class="">Wyszukaj</label>
      </form>
    </div>
  </div>
    
</div>

<div class="container py-2">
    <div class="row">
        <div class="list-group w-100 mb-5">

          <ng-template [ngIf]="products.length > 1" [ngIfElse]="none">
            
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
            *ngFor="let item of products | filter:term | categoryFilter:category | priceFilter:price_from:price_to:prodMeta | slice:0:counter; index as i" 
            >
              <div class="row">
                <div class="col-4 col-lg-2 p-0" [ngStyle]="{ 'background-image': 'url(' + item.photo + ')', 'background-size': '100% 100%' }"></div>
                <div class="col-8 col-lg-10">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1 font-weight-bold">{{ item.name }}</h5>
                    <small class="font-weight-bold h5 lime-text">{{ item.price.toFixed(2) }} zł</small>
                  </div>
                  <small class="mb-1">Donec id elit non mi porta.</small>

                  <p class="mb-1 pr-5">Donec id elit non mi porta gravida at eget metus.Donec id elit non mi porta gravida at eget metus.Donec id elit non mi porta gravida at eget metus.Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius
                    blandit.</p>
                </div>      
              </div>
            </a>

            <ng-template [ngIf]="prodMeta.count === 0">
              <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="row m-auto text-center">
                  <h5 class="w-100 my-4 font-weight-bold">Nie ma produktów spełniających dane kryteria</h5>
                </div>
              </a>
            </ng-template>

          </ng-template>    
          <ng-template #none>
            
            <div class="row text-center mx-auto">
              <p>Wczytywanie produktów...</p>
              <div class="spinner-border ml-3" role="status">
                <span class="sr-only w-100">Loading...</span>
              </div>
            </div>
            
          </ng-template>
        </div>

        <ng-template [ngIf]="prodMeta.count > counter" >
          <button (click)="showMore()" mdbBtn mdbWavesEffect type="button" outline=true color="elegant" class="mx-auto mt-2 mb-5 w-25 waves-light">
            Pokaż więcej
          </button>
        </ng-template>

    </div>
</div>
